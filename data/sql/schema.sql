CREATE TABLE preparation_form (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL UNIQUE, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE producer (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL UNIQUE, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE products (id BIGINT AUTO_INCREMENT, purchase_name VARCHAR(255) UNIQUE, preparation_form_id BIGINT NOT NULL, type VARCHAR(255), code VARCHAR(255), action_substance VARCHAR(255), producer_id BIGINT, availability BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX preparation_form_id_idx (preparation_form_id), INDEX producer_id_idx (producer_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
ALTER TABLE products ADD CONSTRAINT products_producer_id_producer_id FOREIGN KEY (producer_id) REFERENCES producer(id) ON DELETE CASCADE;
ALTER TABLE products ADD CONSTRAINT products_preparation_form_id_preparation_form_id FOREIGN KEY (preparation_form_id) REFERENCES preparation_form(id) ON DELETE CASCADE;
